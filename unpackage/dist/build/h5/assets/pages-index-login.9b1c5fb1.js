import{u as e,z as a,A as s,o as l,a as o,w as r,g as i,d as t,f as u,B as m,C as d,j as n,y as p,r as f,m as c}from"./index-4432f848.js";import{_,a as g,b as y}from"./uni-forms.5dd59440.js";import{r as V}from"./uni-app.es.b4ee8af9.js";import{_ as j}from"./logo.04cf753c.js";import{p as x}from"./index.7f27cc99.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";const h=w({__name:"login",setup(w){const h=e(),v=a(null),b=s({email:"",password:""}),k={email:{rules:[{required:!0,errorMessage:"必填项"},{format:"email",errorMessage:"邮件格式错误"}]}},z=()=>{v.value.validate((()=>{x("api/mobile/elogin",b).then((e=>{e.success?(h.fillUser(e.data.userinfo),m({url:"/pages/my/my"})):d({title:e.msg})})).catch((e=>{d({title:"网络连接错误"})}))}))};function C(){n({url:"/pages/index/register",success(e){console.log(e)},fail(e){console.log(e)}})}return(e,a)=>{const s=p,m=i,d=V(f("uni-easyinput"),_),n=V(f("uni-forms-item"),g),x=c,w=V(f("uni-forms"),y);return l(),o(m,null,{default:r((()=>[t(m,{class:"logo"},{default:r((()=>[t(s,{src:j})])),_:1}),t(w,{class:"myForm",ref_key:"myForm",ref:v,modelValue:b,rules:k},{default:r((()=>[t(n,{name:"email"},{default:r((()=>[t(d,{class:"input",modelValue:b.email,"onUpdate:modelValue":a[0]||(a[0]=e=>b.email=e),placeholder:"请输入电子邮箱","suffix-icon":"email"},null,8,["modelValue"])])),_:1}),t(n,{name:"password"},{default:r((()=>[t(d,{class:"input",type:"password",modelValue:b.password,"onUpdate:modelValue":a[1]||(a[1]=e=>b.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),t(x,{type:"primary",onClick:z},{default:r((()=>[u("用户登录")])),_:1}),t(m,{class:"logo-extra"},{default:r((()=>[t(x,{type:"default",size:"mini"},{default:r((()=>[u("忘记密码")])),_:1}),t(x,{type:"default",size:"mini",onClick:C},{default:r((()=>[u("用户注册")])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-97bc563a"]]);export{h as default};
