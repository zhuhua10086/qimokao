import{p as t,r as o,o as i,a as e,w as n,n as s,e as l,d as r,b as a,k as c,F as h,l as f,f as u,t as d,g as p,y as b,i as _,j as g}from"./index-4432f848.js";import{r as m,_ as y}from"./uni-app.es.b4ee8af9.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";const k=C({name:"UniFab",emits:["fabClick","trigger"],props:{pattern:{type:Object,default:()=>({})},horizontal:{type:String,default:"left"},vertical:{type:String,default:"bottom"},direction:{type:String,default:"horizontal"},content:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},popMenu:{type:Boolean,default:!0}},data:()=>({fabShow:!1,isShow:!1,isAndroidNvue:!1,styles:{color:"#3c3e49",selectedColor:"#007AFF",backgroundColor:"#fff",buttonColor:"#007AFF",iconColor:"#fff"}}),computed:{contentWidth(t){return 55*(this.content.length+1)+15+"px"},contentWidthMin:()=>"55px",boxWidth(){return this.getPosition(3,"horizontal")},boxHeight(){return this.getPosition(3,"vertical")},leftBottom(){return this.getPosition(0,"left","bottom")},rightBottom(){return this.getPosition(0,"right","bottom")},leftTop(){return this.getPosition(0,"left","top")},rightTop(){return this.getPosition(0,"right","top")},flexDirectionStart(){return this.getPosition(1,"vertical","top")},flexDirectionEnd(){return this.getPosition(1,"vertical","bottom")},horizontalLeft(){return this.getPosition(2,"horizontal","left")},horizontalRight(){return this.getPosition(2,"horizontal","right")},nvueBottom:()=>(t().windowBottom,30)},watch:{pattern:{handler(t,o){this.styles=Object.assign({},this.styles,t)},deep:!0}},created(){this.isShow=this.show,0===this.top&&(this.fabShow=!0),this.styles=Object.assign({},this.styles,this.pattern)},methods:{_onClick(){this.$emit("fabClick"),this.popMenu&&(this.isShow=!this.isShow)},open(){this.isShow=!0},close(){this.isShow=!1},_onItemClick(t,o){this.isShow&&this.$emit("trigger",{index:t,item:o})},getPosition(t,o,i){return 0===t?this.horizontal===o&&this.vertical===i:1===t?this.direction===o&&this.vertical===i:2===t?this.direction===o&&this.horizontal===i:this.isShow&&this.direction===o?this.contentWidth:this.contentWidthMin}}},[["render",function(t,g,C,k,v,x){const w=p,S=b,z=_,B=m(o("uni-icons"),y);return i(),e(w,{class:"uni-cursor-point"},{default:n((()=>[C.popMenu&&(x.leftBottom||x.rightBottom||x.leftTop||x.rightTop)&&C.content.length>0?(i(),e(w,{key:0,class:s([{"uni-fab--leftBottom":x.leftBottom,"uni-fab--rightBottom":x.rightBottom,"uni-fab--leftTop":x.leftTop,"uni-fab--rightTop":x.rightTop},"uni-fab"]),style:l(x.nvueBottom)},{default:n((()=>[r(w,{class:s([{"uni-fab__content--left":"left"===C.horizontal,"uni-fab__content--right":"right"===C.horizontal,"uni-fab__content--flexDirection":"vertical"===C.direction,"uni-fab__content--flexDirectionStart":x.flexDirectionStart,"uni-fab__content--flexDirectionEnd":x.flexDirectionEnd,"uni-fab__content--other-platform":!v.isAndroidNvue},"uni-fab__content"]),style:l({width:x.boxWidth,height:x.boxHeight,backgroundColor:v.styles.backgroundColor}),elevation:"5"},{default:n((()=>[x.flexDirectionStart||x.horizontalLeft?(i(),e(w,{key:0,class:"uni-fab__item uni-fab__item--first"})):a("",!0),(i(!0),c(h,null,f(C.content,((t,o)=>(i(),e(w,{key:o,class:s([{"uni-fab__item--active":v.isShow},"uni-fab__item"]),onClick:i=>x._onItemClick(o,t)},{default:n((()=>[r(S,{src:t.active?t.selectedIconPath:t.iconPath,class:"uni-fab__item-image",mode:"aspectFit"},null,8,["src"]),r(z,{class:"uni-fab__item-text",style:l({color:t.active?v.styles.selectedColor:v.styles.color})},{default:n((()=>[u(d(t.text),1)])),_:2},1032,["style"])])),_:2},1032,["class","onClick"])))),128)),x.flexDirectionEnd||x.horizontalRight?(i(),e(w,{key:1,class:"uni-fab__item uni-fab__item--first"})):a("",!0)])),_:1},8,["class","style"])])),_:1},8,["class","style"])):a("",!0),r(w,{class:s([{"uni-fab__circle--leftBottom":x.leftBottom,"uni-fab__circle--rightBottom":x.rightBottom,"uni-fab__circle--leftTop":x.leftTop,"uni-fab__circle--rightTop":x.rightTop,"uni-fab__content--other-platform":!v.isAndroidNvue},"uni-fab__circle uni-fab__plus"]),style:l({"background-color":v.styles.buttonColor,bottom:x.nvueBottom}),onClick:x._onClick},{default:n((()=>[r(B,{class:s(["fab-circle-icon",{"uni-fab__plus--active":v.isShow&&C.content.length>0}]),type:"plusempty",color:v.styles.iconColor,size:"32"},null,8,["color","class"])])),_:1},8,["class","style","onClick"])])),_:1})}],["__scopeId","data-v-53c23b66"]]);const v=C({data:()=>({pattern:{color:"#7A7E83",backgroundColor:"#fff",selectedColor:"#007AFF",buttonColor:"#007AFF",iconColor:"#fff"},horizontal:"right",vertical:"bottom"}),methods:{fabClick(){g({url:"/pages/my/articles/create"})}}},[["render",function(t,s,l,a,c,h){const f=m(o("uni-fab"),k),d=p;return i(),e(d,null,{default:n((()=>[u(" 文章列表 "),r(f,{ref:"fab",pattern:c.pattern,horizontal:c.horizontal,vertical:c.vertical,onFabClick:h.fabClick},null,8,["pattern","horizontal","vertical","onFabClick"])])),_:1})}]]);export{v as default};
